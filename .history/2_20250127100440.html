<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <title>CIDR网段包含关系图</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.6.0/echarts.min.js"></script>
  </head>
  <body>
    <div id="main" style="width: 1000px; height: 800px"></div>
    <script type="text/javascript">
      var myChart = echarts.init(document.getElementById("main"));

      var data = {
        name: "0.0.0.0/0",
        children: [
          {
            name: "10.0.0.0/8",
          },
          {
            name: "192.168.0.0/16",
            children: [
              {
                name: "192.168.1.0/24",
              },
              {
                name: "192.168.2.0/24",
              },
            ],
          },
        ],
      };

      var option = {
        series: [
          {
            type: "tree",
            data: [data],
            top: "1%",
            left: "7%",
            bottom: "1%",
            right: "20%",
            symbolSize: 10,
            label: {
              position: "left",
              verticalAlign: "middle",
              align: "right",
              fontSize: 12,
            },
            leaves: {
              label: {
                position: "right",
                verticalAlign: "middle",
                align: "left",
              },
            },
            expandAndCollapse: true,
            animationDuration: 550,
            animationDurationUpdate: 750,
            emphasis: {
              focus: "descendant",
              itemStyle: {
                borderColor: "red",
                borderWidth: 2,
              },
              label: {
                fontWeight: "bold",
                color: "red",
              },
            },
          },
        ],
      };

      myChart.setOption(option);

      // 动态高亮 10.0.0.0/8 节点
      myChart.on("finished", function () {
        myChart.dispatchAction({
          type: "highlight",
          seriesIndex: 0,
          dataIndex: 0,
        });
      });
    </script>
  </body>
</html>
